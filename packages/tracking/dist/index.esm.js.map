{"version":3,"file":"index.esm.js","sources":["../../src/index.ts"],"sourcesContent":[null],"names":["TrackingSDK","config","isStarted","observers","Map","senders","jsonp","Promise","resolve","image","xhr","fetch","errorStats","jsErrors","promiseRejections","resourceErrors","networkErrors","lastErrorTime","pendingQueue","idleCallbackId","_sessionId","constructor","this","endpoint","sender","callbackParam","timeout","errorMonitoring","enabled","captureJSErrors","capturePromiseRejections","captureResourceErrors","captureNetworkErrors","maxErrorsPerSession","errorSamplingRate","ignoreErrors","beforeErrorSend","errorData","logToPage","fallbackSender","dataProcessor","data","beforeSend","afterSend","response","onError","error","idleBatchSize","init","window","setupSenders","setupErrorMonitoring","console","log","addEventListener","handleJSError","bind","handlePromiseRejection","handleResourceError","event","shouldCaptureError","type","message","filename","lineno","colno","stack","timestamp","Date","now","url","location","href","userAgent","navigator","isErrorIgnored","trackError","reason","toString","target","tagName","hasAttribute","toLowerCase","source","src","Math","random","some","pattern","includes","RegExp","test","processedData","trackingData","category","page","getPageInfo","user","getUser","sessionId","getSessionId","sendImmediately","createJSONPSender","createImageSender","createXHRSender","createFetchSender","callbackName","substr","script","document","createElement","setTimeout","cleanup","then","clearTimeout","parentNode","removeChild","params","URLSearchParams","append","JSON","stringify","crossOrigin","setAttribute","onerror","head","appendChild","img","Image","success","method","note","onload","onabort","encodeURIComponent","reject","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","status","parse","responseText","e","Error","statusText","ontimeout","send","headers","body","ok","json","catch","start","setupClickTracking","setupViewTracking","stop","forEach","observer","disconnect","clear","cancelIdleProcessing","closest","getAttribute","trackElement","mutationObserver","MutationObserver","mutations","mutation","addedNodes","node","nodeType","Element","Document","scanForViewTrackingElements","observe","childList","subtree","set","intersectionObserver","IntersectionObserver","entries","entry","isIntersecting","element","delay","parseInt","isElementVisible","threshold","rootMargin","root","querySelectorAll","get","rect","getBoundingClientRect","top","innerHeight","bottom","buildTrackingData","title","referrer","viewport","width","innerWidth","height","language","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","options","item","attempts","push","ensureIdleProcessing","eventData","trigger","Object","assign","spm","position","x","round","left","y","className","id","getElementTrackingId","text","textContent","substring","attributes","getCustomAttributes","eventInfo","clientX","clientY","button","Array","from","attr","name","startsWith","key","replace","value","sendTrack","sendData","items","length","map","startTime","handleSendSuccess","handleSendError","finally","duration","onSuccess","updateConfig","newConfig","requestIdleCallback","callback","didTimeout","timeRemaining","cancelIdleCallback","deadline","processQueueDuringIdle","shouldContinue","itemsToSend","batchSize","min","getIdleBatchSize","splice","size","max","floor","level","args","logMessage","toLocaleTimeString","toUpperCase","warn","info","existingId"],"mappings":"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"}